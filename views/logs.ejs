<div class="row mb-4">
  <div class="col">
    <h1>连接日志</h1>
  </div>
</div>

<div class="card mb-4">
  <div class="card-body">
    <p>此页面显示所有端口转发连接的日志记录，包括连接时间、来源IP、转发规则和传输的数据量。</p>
  </div>
</div>

<% if (logs && logs.length > 0) { %>
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>时间</th>
          <th>客户端IP</th>
          <th>转发规则</th>
          <th>源端口</th>
          <th>目标地址</th>
          <th>传输数据</th>
        </tr>
      </thead>
      <tbody>
        <% logs.forEach(log => { %>
          <tr>
            <td><%= log.formattedTime %></td>
            <td><%= log.client_ip %></td>
            <td><%= log.name %></td>
            <td><%= log.source_port %></td>
            <td><%= log.target_host %>:<%= log.target_port %></td>
            <td><%= log.formattedBytes %></td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
<% } else { %>
  <div class="alert alert-info">
    暂无连接日志记录。当客户端连接到您配置的转发端口时，日志将显示在这里。
  </div>
<% } %> 